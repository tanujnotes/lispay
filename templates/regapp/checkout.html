{% extends "regapp/base.html" %}
{% load staticfiles %}

{% block title %}Lisplay - Payment{% endblock %}

{% block content %}

<script src="{% static '/dash/js/jquery-3.1.0.min.js' %}" type="text/javascript"></script>
<script src="{% static '/dash/js/jquery.maskedinput.js' %}" type="text/javascript"></script>

<script type="text/javascript">
    jQuery(function($){
        $('#id_card_number').mask("9999 9999 9999 9999",{placeholder:""});
        $('#id_card_expiry').mask("99/99",{placeholder:"MM/YY"});
        $('#id_card_cvv').mask("999?9",{placeholder:""});
    });


</script>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" style="margin-top: 5%;">
    <div class="modal-dialog">
        <!--<div class="modal-content">-->
        <!--<div class="modal-header">-->
        <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
        <!--</div>-->
        <div class="container modal-body">
            <div class="row">
                <div class="col-md-4 col-md-offset-1 col-sm-6 col-sm-offset-2">
                    <div class="card card-signup">
                        <form class="form" method="post" action=".">
                            {% csrf_token %}
                            <div class="header header-primary text-center">
                                <h4>Credit Card Details</h4>
                            </div>
                            <div class="content">
                                {{ form.errors }}

                                {% if cards_json.cards %}
                                <p class="text-divider">Select a card</p>
                                {% for card in cards_json.cards %}
                                <div class="radio">
                                    <label>
                                        <input type="radio" name="card_id" value="{{card.card_id}}">
                                        {{"xxxx xxxx xxxx "|add:card.last_four_digits}}
                                    </label>
                                </div>
                                {% endfor %}
                                <p class="text-divider">Or add a new one</p>
                                {% endif %}

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="material-icons">credit_card</i></span>
                                    <input type="text" name="card_number" id="id_card_number" class="form-control"
                                           placeholder="Card number" autofocus>
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon"> <i class="material-icons">date_range</i></span>
                                    <input type="text" name="card_expiry" id="id_card_expiry" class="form-control"
                                           placeholder="Expiry Date">
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon"> <i class="material-icons">lock</i></span>
                                    <input type="password" name="card_cvv" id="id_card_cvv" class="form-control"
                                           placeholder="CVV" maxlength="4">
                                </div>
                                <div class="footer text-center">
                                    <button class="btn btn-round btn-primary btn-lg" type="submit" value="Submit"
                                            style="padding-left: 60px; padding-right: 60px;">
                                        Pledge
                                    </button>
                                </div>

                                <div class="footer text-center">
                                    <button class="btn btn-simple btn-round btn-primary" data-dismiss="modal"
                                            style="padding-left: 60px; padding-right: 60px;">
                                        Close
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--</div>-->
    </div>
</div>

<div class="components-page">
    <div class="wrapper">
        <div class="header header-filter" style="background-image: url('/static/img/examples/city.jpg');">
            {% if error %}
            <div data-notify="container"
                 class="col-xs-11 col-sm-4 alert alert-danger alert-with-icon animated fadeInDown"
                 role="alert" data-notify-position="top-right"
                 style="display: inline-block; margin: 0px auto; position: fixed; transition: all 0.5s ease-in-out; z-index: 1031; top: 20px; right: 20px;">
                <button type="button" class="close" aria-hidden="true" data-notify="dismiss"
                        data-dismiss="alert" aria-label="Close"
                        style="position: absolute; right: 10px; top: 50%; margin-top: -13px; z-index: 1033;">
                    <i class="material-icons">clear</i>
                </button>
                <div class="alert-icon">
                    <i data-notify="icon" class="material-icons">error_outline</i>
                </div>
                <!--<span data-notify="title"></span>-->
                <span data-notify="message">{{ error }}</span>
            </div>
            {% endif %}
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <h1 class="title text-center">Payment</h1>
                    </div>
                </div>
            </div>
        </div>

        <div class="main main-raised">
            <div class="container">
                <br/>
                <br/>
                <br/>
                <div class="row">
                    <div class="col-md-5 col-md-offset-1" style="padding-bottom: 40px;">
                        <h2>Featured Text</h2>
                        <br/>
                        <p>user_profile.featured_textBecome a member of club 2 by pledging any two digit amount
                            i.e. from Rs. 10 to Rs.
                            99. No matter what
                            amount you choose, it will be greatly helpful to usBecome a member of club 2 by pledging any
                            two digit amount
                            i.e. from Rs. 10 to Rs.
                            99. No matter what
                            amount you choose, it will be greatly helpful to usBecome a member of club 2 by pledging any
                            two digit amount
                            i.e. from Rs. 10 to Rs.
                            99. No matter what
                            amount you choose, it will be greatly helpful to usBecome a member of club 2 by pledging any
                            two digit amount
                            i.e. from Rs. 10 to Rs.
                            99. No matter what
                            amount you choose, it will be greatly helpful to us</p>
                        {{ cards_json }}
                    </div>
                    <div class="col-md-4 col-md-offset-1" style="margin-top: 40px;">
                        <div class="card card-signup">
                            <div class="header header-primary text-center">
                                <h4>Select Payment Method</h4>
                            </div>
                            <div class="content" style="padding-bottom: 10px; padding-top: 10px;">
                                <p style="margin-left: 10px;">Become a member of club 2 by pledging any two digit amount
                                    i.e. from Rs. 10 to Rs.
                                    99. No matter what
                                    amount you choose, it will be greatly helpful to us.</p>
                            </div>
                            <div class="footer text-center">
                                <button class="btn btn-danger btn-lg btn-round" data-toggle="modal"
                                        data-target="#myModal" type="submit" value="Submit">
                                    Pay with credit card
                                </button>
                            </div>
                            <div class="footer text-center" style="margin-bottom: 10px;">
                                <button class="btn btn-info btn-lg btn-round" type="submit" value="Submit"
                                        style="padding-left: 55px; padding-right: 55px;">
                                    Pay with paytm
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <br/>
                <br/>
                <br/>
            </div>
        </div>
    </div>
</div>
{% endblock %}