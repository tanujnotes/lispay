{% extends "regapp/base.html" %}
{% load staticfiles %}

{% block title %}Lisplay - Creators{% endblock %}

{% block content %}


<div class="components-page">

    <div class="wrapper">
        <div class="header header-filter"
             style="background-image: url('https://images.unsplash.com/photo-1470219556762-1771e7f9427d?auto=format&fit=crop&w=2378&q=60&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D');">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <h1 class="title text-center">Creators</h1>
                    </div>
                </div>
            </div>
        </div>

        <div class="main main-raised">
            <div class="section">
                <div class="container">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="fixed-section" data-spy="affix" data-offset-top="340">
                                <ul>
                                    <li><a href="/explore-creators/all">All</a></li>
                                    <li><a href="/explore-creators/videos-and-films">Videos and Films</a></li>
                                    <li><a href="/explore-creators/music">Music</a></li>
                                    <li><a href="/explore-creators/writing">Writing</a></li>
                                    <li><a href="/explore-creators/arts-and-crafts">Arts and Crafts</a></li>
                                    <li><a href="/explore-creators/games">Games</a></li>
                                    <li><a href="/explore-creators/photography">Photography</a></li>
                                    <li><a href="/explore-creators/science-and-technology">Science and
                                        Technology</a></li>
                                    <li><a href="/explore-creators/education">Education</a></li>
                                    <li><a href="/explore-creators/dance-and-theater">Dance and Theater</a></li>
                                    <li><a href="/explore-creators/coding">Coding</a></li>
                                    <li><a href="/explore-creators/others">Others</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-8 col-md-offset-1">

                            {% ifequal creators.start_index 0 %}
                            <h4 class="text-danger col-xs-offset-1">No creators found in this category!</h4>
                            {% else %}
                            <h3 class="col-xs-offset-1">Creators</h3>
                            {% endifequal %}
                            <br/>
                            <br/>
                            {% for creator in creators %}
                            <div class="row">
                                <a href="{% url 'show_user_profile' creator.username %}">
                                    <div class="col-md-2 col-sm-2 col-xs-4 col-xs-offset-1">
                                        <img src="{{ creator.thumbnail.url }}" alt="Thumbnail Image"
                                             class="img-raised img-circle img-responsive">
                                    </div>
                                    <div class="col-md-6 col-sm-8 col-xs-7">
                                        <h4>{{ creator.full_name }}<br/>
                                            <small class="text-muted">{{ creator.short_bio|upper }}</small>
                                            <br/>
                                            {% with count=subscriber_count|get_value:creator.username %}
                                            {% if count %}
                                            {% ifequal count 1 %}
                                            <small class="description">{{ count }} Supporter</small>
                                            {% else %}
                                            <small class="description">{{ count }} Supporters</small>
                                            {% endifequal %}
                                            {% endif %}
                                            {% endwith %}
                                        </h4>
                                    </div>
                                </a>
                            </div>
                            <br/>
                            <br/>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 text-center">
                            <br/>
                            <hr/>
                            {% if creators.start_index > 0 %}
                            <ul class="pagination pagination-primary">
                                {% for i in 1|range:total_pages %}
                                {% if i == page %}
                                <li class="active"><a href="{% url 'explore_creators' 'all' i %}">{{ i }}</a></li>
                                {% else %}
                                <li><a href="{% url 'explore_creators' 'all' i %}">{{ i }}</a></li>
                                {% endif %}
                                {% endfor %}
                            </ul>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}