{% extends "regapp/base.html" %}
{% load staticfiles %}

{% block title %}Lisplay - Profile{% endblock %}

{% block content %}

<div class="profile-page">
    <div class="wrapper">
        <div class="header header-filter" style="background-image: url('/static/img/examples/city.jpg');"></div>
        {% if error %}
        <div data-notify="container"
             class="col-xs-11 col-sm-4 alert alert-danger alert-with-icon animated fadeInDown"
             role="alert" data-notify-position="top-right"
             style="display: inline-block; margin: 0px auto; position: fixed; transition: all 0.5s ease-in-out; z-index: 1031; top: 20px; right: 20px;">
            <button type="button" class="close" aria-hidden="true" data-notify="dismiss"
                    data-dismiss="alert" aria-label="Close"
                    style="position: absolute; right: 10px; top: 50%; margin-top: -13px; z-index: 1033;">
                <i class="material-icons">clear</i>
            </button>
            <div class="alert-icon">
                <i data-notify="icon" class="material-icons">error_outline</i>
            </div>
            <!--<span data-notify="title"></span>-->
            <span data-notify="message">{{ error }}</span>
        </div>
        {% endif %}

        {% if message %}
        <div data-notify="container"
             class="col-xs-11 col-sm-4 alert alert-info alert-with-icon animated fadeInDown"
             role="alert" data-notify-position="top-right"
             style="display: inline-block; margin: 0px auto; position: fixed; transition: all 0.5s ease-in-out; z-index: 1031; top: 20px; right: 20px;">
            <button type="button" class="close" aria-hidden="true" data-notify="dismiss"
                    data-dismiss="alert" aria-label="Close"
                    style="position: absolute; right: 10px; top: 50%; margin-top: -13px; z-index: 1033;">
                <i class="material-icons">clear</i>
            </button>
            <div class="alert-icon">
                <i data-notify="icon" class="material-icons">check</i>
            </div>
            <!--<span data-notify="title"></span>-->
            <span data-notify="message">{{ message }}</span>
        </div>
        {% endif %}

        <div class="main main-raised">
            <div class="container">
                <div class="row">
                    <div class="profile">
                        <div class="avatar">
                            <img src="/media/{{ user_profile.thumbnail }}" alt="Circle Image"
                                 class="img-circle img-responsive img-raised">
                        </div>
                        <div class="name">
                            <h3 class="title" style="margin-bottom:0;">{{ user_profile.full_name }}</h3>
                            <p class="text-muted">{{ "@"|add:user_profile.username }}</p>
                            <h6 style="margin-top:20px;">{{ user_profile.short_bio }}</h6>
                        </div>
                    </div>
                </div>
                <div class="description text-center">
                    <p>{{ user_profile.profile_description }}</p>
                </div>
                <div class="nav-align-center">
                    {% if user_profile.social_links|get_item:'facebook_details,facebook_link' %}
                    <a href="{{ user_profile.social_links|get_item:'facebook_details,facebook_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-facebook"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'twitter_details,twitter_link' %}
                    <a href="{{ user_profile.social_links|get_item:'twitter_details,twitter_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-twitter"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'instagram_details,instagram_link' %}
                    <a href="{{ user_profile.social_links|get_item:'instagram_details,instagram_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-instagram"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'youtube_details,youtube_link' %}
                    <a href="{{ user_profile.social_links|get_item:'youtube_details,youtube_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon">
                        <i class="fa fa-youtube-play"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'googleplus_details,googleplus_link' %}
                    <a href="{{ user_profile.social_links|get_item:'googleplus_details,googleplus_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-google-plus"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'linkedin_details,linkedin_link' %}
                    <a href="{{ user_profile.social_links|get_item:'linkedin_details,linkedin_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-linkedin"></i></a>
                    {% endif %}
                    {% if user_profile.social_links|get_item:'github_details,github_link' %}
                    <a href="{{ user_profile.social_links|get_item:'github_details,github_link' }}"
                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                        <i class="fa fa-github"></i></a>
                    {% endif %}
                    <hr/>
                </div>

                {% if user.is_authenticated %}
                {% ifequal user.username user_profile.username %}
                <div class="section text-center" style="background-color:#eee;">
                    {% if featured_list.items %}
                    <h3>CREATORS YOU ARE SUPPORTING</h3>
                    <div class="team">
                        <div class="row">
                            {% for key, featured_user in featured_list.items %}
                            <div class="col-md-4">
                                <div class="team-player">
                                    <a href="{% url 'show_user_profile' featured_user.username %}">
                                        <img src="/media/{{ featured_user.thumbnail }}" alt="Thumbnail Image"
                                             class="img-raised img-circle">
                                        <h4 class="title">{{ featured_user.full_name }}<br/>
                                            <small class="text-muted">{{ featured_user.short_bio }}</small>
                                        </h4>
                                    </a>
                                    {% if featured_user.social_links|get_item:'facebook_details,facebook_link' %}
                                    <a href="{{ featured_user.social_links|get_item:'facebook_details,facebook_link' }}"
                                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                                        <i class="fa fa-facebook"></i></a>
                                    {% endif %}
                                    {% if featured_user.social_links|get_item:'twitter_details,twitter_link' %}
                                    <a href="{{ featured_user.social_links|get_item:'twitter_details,twitter_link' }}"
                                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                                        <i class="fa fa-twitter"></i></a>
                                    {% endif %}
                                    {% if featured_user.social_links|get_item:'instagram_details,instagram_link' %}
                                    <a href="{{ featured_user.social_links|get_item:'instagram_details,instagram_link' }}"
                                       target="_blank" class="btn btn-simple btn-just-icon btn-default">
                                        <i class="fa fa-instagram"></i></a>
                                    {% endif %}
                                    {% if featured_user.social_links|get_item:'youtube_details,youtube_link' %}
                                    <a href="{{ featured_user.social_links|get_item:'youtube_details,youtube_link' }}"
                                       target="_blank" class="btn btn-simple btn-just-icon">
                                        <i class="fa fa-youtube-play"></i></a>
                                    {% endif %}
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% else %}
                    <h3>You're not supporting any creators yet.
                        <a href="% url 'show_creators' 'all' %}"> Explore creators.</a>
                    </h3>
                    {% endif %}
                </div>
                <hr/>
                {% endifequal %}
                {% endif %}


                {% if user_profile.is_creator %}
                <div class="row">
                    <div class="col-md-6">
                        <h3>Featured Video</h3>
                        <br/>
                        <div class="video-container">
                            <iframe width="500" height="280"
                                    src="{{ user_profile.featured_video }}" frameborder="0"
                                    allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="col-md-4 col-md-offset-1">
                        <h3>Featured Text</h3>
                        <br/>
                        <p>{{ user_profile.featured_text }}</p>
                    </div>
                </div>
                <br/>
                <hr/>
                <br/>
                <br/>
                <div class="row">
                    <div class="col-md-4" style="margin-bottom: 80px;">
                        <form class="form" method="post" action=".">
                            {% csrf_token %}
                            <div class="card card-signup">
                                <div class="header header-info text-center">
                                    <h4>Club 2</h4>
                                </div>
                                <div class="content">
                                    <p style="margin-left: 30px;">Become a member of club 2 by pledging any two digit
                                        amount
                                        i.e. from Rs. 10 to Rs. 99. No matter what amount you choose, it will be greatly
                                        helpful to us.</p>
                                    <div class="input-group">
                                        <span class="input-group-addon"></span>
                                        <input type="number" name="amount" id="id_club2_amount" class="form-control"
                                               placeholder="Enter your favorite number [10 - 99]" min="10" max="99"
                                               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
                                               required>
                                    </div>
                                </div>
                                <div class="footer text-center">
                                    <a href="{% url 'checkout' user_profile.username %}">
                                        <button class="btn btn-simple btn-primary btn-lg" type="submit" value="Submit">
                                            Continue
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-4" style="margin-bottom: 80px;">
                        <form class="form" method="post" action=".">
                            {% csrf_token %}
                            <div class="card card-signup">
                                <div class="header header-success text-center">
                                    <h4>Club 3</h4>
                                </div>
                                <div class="content">
                                    <p style="margin-left: 30px;">Become a member of club 3 by pledging any three digit
                                        amount i.e. from Rs. 100 to Rs. 999. No matter what amount you choose, it will
                                        be greatly helpful to us.</p>
                                    <div class="input-group">
                                        <span class="input-group-addon"></span>
                                        <input type="number" name="amount" id="id_club3_amount" class="form-control"
                                               placeholder="Enter your favorite number [100 - 999]" min="100" max="999"
                                               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
                                               required>
                                    </div>
                                </div>
                                <div class="footer text-center">
                                    <a href="{% url 'checkout' user_profile.username %}">
                                        <button class="btn btn-simple btn-primary btn-lg" type="submit" value="Submit">
                                            Continue
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-4" style="margin-bottom: 80px;">
                        <form class="form" method="post" action=".">
                            {% csrf_token %}
                            <div class="card card-signup">
                                <div class="header header-warning text-center">
                                    <h4>Club 4</h4>
                                </div>
                                <div class="content">
                                    <p style="margin-left: 30px;">Become a member of club 4 by pledging any four digit
                                        amount i.e. from Rs. 1000 to Rs. 9999. No matter what amount you choose, it will
                                        be greatly helpful to us.</p>
                                    <div class="input-group">
                                        <span class="input-group-addon"></span>
                                        <input type="number" name="amount" id="id_club4_amount" class="form-control"
                                               placeholder="Enter your favorite number [1000 - 9999]" min="1000"
                                               max="9999"
                                               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
                                               required>
                                    </div>
                                </div>
                                <div class="footer text-center">
                                    <a href="{% url 'checkout' user_profile.username %}">
                                        <button class="btn btn-simple btn-primary btn-lg" type="submit" value="Submit">
                                            Continue
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                {% else %}
                <h4 class="text-center">This is not creator a profile.</h4>
                <p class="description text-center" style="margin-top:0;">If you still want to pledge to profile, please
                    let us know.</p>
                {% endif %}
                <br/>
            </div>
        </div>
    </div>
</div>

{% endblock %}